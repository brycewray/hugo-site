{{ define "main" }}

<style type="text/css">
  {{ if .Params.featured_image }}
   {{ with .Resources.GetMatch (.Params.featured_image) }}
     {{ $extraSmall := .Resize "768x" }}
     {{ $small := .Resize "992x" }}
     {{ $medium := .Resize "1200x" }}
     {{ $large := .Fill "1920x516 center"}}
     
     @media (max-width: 767px) {
       .background-hero-image-holder {
         background-image: url('{{ $extraSmall.RelPermalink }}')
       }
     }
 
     @media (min-width: 768px) {
       .background-hero-image-holder {
         background-image: url('{{ $small.RelPermalink }}')
       }
     }
 
     @media (min-width: 992px) {
       .background-hero-image-holder {
         background-image: url('{{ $medium.RelPermalink }}')
       }
     }
 
     @media (min-width: 1200px) {
       .background-hero-image-holder {
         .background-image: url('{{ $large.RelPermalink }}')
       }
     }
   {{ end }}
 {{ end }}
 </style>
 <div class="background-hero-image-div">
  <div class="h-full bg-cover bg-center background-hero-image-holder">
  <div class="background-hero-title-block-fit">
      <div class="background-hero-title-text">
        <h1 class="text-center text-4xl md:text-left md:text-5xl lg:text-6xl xb:text-8xl tracking-tight leading-tight mb-6 px-4 md:px-0 text-white">{{ .Title | markdownify}}</h1>
        <h2 class="italic text-center text-2xl md:text-left md:text-3xl lg:text-5xl xb:text-6xl leading-tight tracking-tight px-6 md:px-0 text-white">
          {{- if .Params.Subtitle }}
          {{ .Params.Subtitle | markdownify }}
          {{- else }}
          &nbsp;
          {{- end }}
        </h2>
        <p class="hidden not-italic md:block md:text-2xl tracking-tight md:text-base md:mt-8 mb-6 text-white">{{ .Params.Description }}</p>
        <p class="text-base text-center px-4 md:text-right md:px-0 mt-4 md:mt-0 mb-0 text-white">
          <span style="font-variant: small-caps">published:</span>&nbsp; <strong>{{ .PublishDate.Format "January 2, 2006" }}</strong><span class="pokey" style="font-variant: small-caps;">&nbsp;utc</span><br />
          <span class="text-sm">
          {{- if ne .PublishDate .Lastmod }}
          <span style="font-variant: small-caps">last modified:</span>&nbsp; {{ .Lastmod.Format "January 2, 2006" }}<span class="pokey" style="font-variant: small-caps;">&nbsp;utc</span>
          {{- else }}
          &nbsp;
          {{- end }}
          </span>
        </p>
        {{- if isset .Params "featured_image_caption" }}
          <p class="text-center text-white text-xs mt-4 mb-0 md:mb-1 pb-1">{{ index .Params "featured_image_caption" }}</p>
        {{- end }}
      </div>
    </div>
  </div>
</div>

  <div class="sm:w-5/6 md:w-4/5 xl:w-1/2 mt-10 mr-auto ml-auto px-6 lg:px-16">
    <article class="article">
      {{ .Content }}
    </article>
  </div>
  
{{ end }}