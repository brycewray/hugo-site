{
	"config": {
		"myIP": "192.168.0.70",
		"targets": "defaults"
	},
	"watch": {
		"dev:lcss": {
			"patterns": [
				"assets/css-original"
			],
			"extensions": "css,scss",
			"quiet": true,
			"runOnChangeOnly": false
		}
	},
	"scripts": {
		"clean:hugo": "rimraf public",
		"clean:lcss": "rimraf assets/css",
		"search": "pagefind --site public",
		"clean:search": "rimraf static/pagefind",
		"dev:search": "pagefind --site public --bundle-dir ../static/pagefind",
		"dev:hugo": "hugo server --port 3000 --bind=0.0.0.0 --baseURL=http://$npm_package_config_myIP:3000 --panicOnWarning --disableFastRender --forceSyncStatic --gc",
		"move-excerpts": "mv public/posts/index.xml public/index-excerpts.xml && mv public/posts/index.json public/index-excerpts.json",
		"prod:hugo": "hugo --minify",
		"testbuild:hugo": "npm run dev:hugo -- --minify --environment=production",
		"start": "NODE_ENV=development npm-run-all clean:* dev:lcss --parallel dev:hugo watch",
		"dev:lcss": "lightningcss --bundle --targets \"$npm_package_config_targets\" assets/css-original/*.css --output-dir assets/css",
		"build:lcss": "npm run dev:lcss -- --minify",
		"build:purge": "purgecss --config ./purgecss.config.js",
		"build:prelim": "NODE_ENV=production npm-run-all clean:* build:lcss build:purge prod:hugo",
		"build": "npm-run-all build:prelim move-excerpts search",
		"deploy:wrangler": "wrangler pages deploy public --commit-dirty=true",
		"deploy": "npm-run-all build deploy:wrangler",
		"testbuild": "NODE_ENV=production npm-run-all clean:* build:lcss build:purge --parallel testbuild:hugo",
		"testbuildpf": "NODE_ENV=production npm-run-all clean:* build:lcss build:purge prod:hugo dev:search --parallel testbuild:hugo",
		"watch": "npm-watch"
	},
	"devDependencies": {
		"lightningcss-cli": "^1.23.0",
		"npm-run-all": "^4.1.5",
		"npm-watch": "^0.11.0",
		"pagefind": "^1.0.4",
		"purgecss": "^5.0.0",
		"rimraf": "^5.0.5",
		"wrangler": "^3.28.1"
	}
}
