{{- $scssOptions := dict "transpiler" "dartsass" -}}

{{- if hugo.IsProduction -}}
	{{- $scssOptions = merge $scssOptions (dict "targetPath" "css/fonts-Inter.min.css" "outputStyle" "compressed") -}}
{{- else -}}
	{{- $scssOptions = merge $scssOptions (dict "targetPath" "css/fonts-Inter.css") -}}
{{- end -}}
{{- $css := resources.Get "scss/fonts-Inter.scss" | toCSS $scssOptions -}}
{{- if hugo.IsProduction -}}
	{{- $css = $css | fingerprint -}}
{{- end -}}
{{- with $css -}}
	<link rel="preload" href="{{ $css.RelPermalink }}" as="style"{{- if hugo.IsProduction -}} integrity="{{ $css.Data.Integrity }}" crossorigin{{- end -}}>
	<link rel="stylesheet" href="{{ $css.RelPermalink }}" type="text/css" media="screen"{{- if hugo.IsProduction -}} integrity="{{ $css.Data.Integrity }}" crossorigin{{- end -}}>
{{- end }}

{{- if hugo.IsProduction -}}
	{{- $scssOptions = merge $scssOptions (dict "targetPath" "css/critical.min.css" "outputStyle" "compressed") -}}
{{- else -}}
	{{- $scssOptions = merge $scssOptions (dict "targetPath" "css/critical.css") -}}
{{- end -}}
{{- $css := resources.Get "scss/critical.scss" | toCSS $scssOptions -}}
{{- if hugo.IsProduction -}}
	{{- $css = $css | fingerprint -}}
{{- end -}}
{{- with $css -}}
	<link rel="preload" href="{{ $css.RelPermalink }}" as="style"{{- if hugo.IsProduction -}} integrity="{{ $css.Data.Integrity }}" crossorigin{{- end -}}>
	<link rel="stylesheet" href="{{ $css.RelPermalink }}" type="text/css" media="screen"{{- if hugo.IsProduction -}} integrity="{{ $css.Data.Integrity }}" crossorigin{{- end -}}>
{{- end }}
