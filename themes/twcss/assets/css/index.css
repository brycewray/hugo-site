@import '/themes/twcss/assets/css/fonts.css';
@import '/themes/twcss/assets/css/code.css';
@import '/themes/twcss/assets/css/lite-yt-embed.css';
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

:root {
	--navRightMargin: 6em; /* unless JS is off */
	--arrowPadding: clamp(1.5em, 0.75vw + 0.625em, 2.5em);
	--nextprevPadding: clamp(0.75em, 1vw + 0.5em, 1.5em);
	--interactionPadding: 0.75em;
	--btn-width: 12rem;
	--btn-height: 2.25rem;
	--btn-svg-width: 1.25em; /* height will be auto */
}

@layer base {
	html {
		-moz-tab-size: 2;
		tab-size: 2;
	}
	[data-theme="light"] {
		color-scheme: light;
	}
	[data-theme="dark"] {
		color-scheme: dark;
	}
	#nav-Checkbox:checked ~ ul.nav-Menu li,
	#nav-Checkbox:checked ~ label#nav-Toggle #svg-close {
		@apply block;
	}
	#nav-Checkbox:checked ~ label#nav-Toggle #svg-menu {
		@apply hidden;
	}
	#nav-Checkbox:checked ~ ul.nav-Menu {
		@apply pb-4;
	}
	b, strong {
		@apply font-semibold;
	}
	h1, .h1 {
		@apply text-3xl mb-4;
	}
	h2, .h2, h3, .h3 {
		@apply text-xl;
	}
	h4, h5 {
		@apply text-lg;
	}
	h3, .h3, h5, .h5 {
		@apply italic;
	}
	h1, h2, h3, h4, h5 {
		@apply outline-none active:outline-none focus:outline-none hover:outline-none;
	}
	h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, .h5 {
		@apply !tracking-tight font-semibold;
	}
	a {
		@apply underline underline-offset-[0.225em] decoration-[0.075rem] text-blue-700 dark:text-blue-300;
		&:focus, &:hover, &:active {
			@apply text-blue-900 dark:text-zinc-300;
		}
	}
	sup a, a.previous, a.next, .footnote-return {
		@apply no-underline;
	}
	.header-anchor {
		@apply text-black dark:text-white no-underline hover:underline hover:underline-offset-[0.225em] hover:decoration-[0.075rem] hover:text-blue-700 hover:dark:text-blue-200;
		&:hover::after {
			content: "#";
			@apply text-base pl-2;
		}
	}
	p, li {
		/* for handling Markdown-created <p> and <li> */
		@apply mb-3 text-base !tracking-normal;
	}
	ul li, ul li li li {
		@apply list-disc;
	}
	ul li li {
		@apply list-square;
	}
	ul, ol {
		@apply pl-8;
	}
	ol {
		@apply list-decimal;
	}
	article {
		h1, h2, h3, h4 {
			@apply mt-8 mb-6;
		}
		p {
			@apply mt-6 mb-6;
		}
		p, li {
			@apply !leading-relaxed;
		}
		ul {
			li li, li li li, li li li li {
				@apply my-2;
			}
		}
		hr + ul {
			@apply mt-4;
		}
		.red {
			@apply text-red-700 dark:text-red-300;
		}
		.pokey {
			@apply text-sm !tracking-normal;
		}
		img.containedImage, picture img {
			@apply min-w-full max-w-full w-full h-auto;
		}
		blockquote {
			@apply px-6 text-zinc-700 dark:text-zinc-300 border-l-4 border-zinc-300 dark:border-zinc-400;
		}
		hr {
			@apply border-solid border-zinc-900 dark:border-zinc-100;
		}
		--containerNarrowerWidth: 80%;
		@media screen and (min-width: 1024px) {
			--containerNarrowerWidth: 50vw;
			--bigImgDivExpansionWidth: 20vw;
			--bigImgDivWidth: calc(var(--containerNarrowerWidth) + var(--bigImgDivExpansionWidth));
			.bigImgDiv:not(li *) {
				width: var(--bigImgDivWidth);
				left: calc(calc(var(--bigImgDivWidth) * -1)/2 + 50%);
			}
		}
		@media screen and (min-width: 1536px) {
			--containerNarrowerWidth: 40vw;
		}
		@media screen and (min-width: 1920px) {
			--containerNarrowerWidth: 45rem;
			--bigImgDivExpansionWidth: 15rem;
		}
	}

	/* .footnotes, .footnote-sim, .footnote-ref {
		@apply font-sans;
	} */

	.footnotes {
		@apply pt-[0.5em];
		& hr {
			@apply border-0 h-[1px] bg-black dark:bg-white;
		}
		& ol {
			padding-inline-start: 1.5rem;
			@apply pt-2;
			& li {
				@apply text-sm my-0 pt-2 pb-1;
				& p {
					@apply text-sm my-0 py-0;
				}
			}
		}
		& .footnote-backref {
			@apply text-xs;
		}
	}

	.footnote-sim {
		@apply text-sm text-blue-500 dark:text-blue-200;
	}

	a.footnote-return {
		font-size: 50%;
	}
	.box {
		@apply text-sm !tracking-normal block box-border bg-gray-100 dark:bg-gray-800 border border-black dark:border-gray-200 mx-2 my-auto w-full p-4 mb-2;
		& p {
			@apply p-0 m-0;
		}
	}
	.box + hr, hr + .box {
		@apply mt-7;
	}
	@keyframes fadeIn {
		0% {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}
	.animate-fade {
		animation: fadeIn 750ms ease-in-out;
	}
	.imgcCaption, .imgCaption, .lazypicturecaption {
		@apply p-0 mbs-2 leading-snug text-xs text-center;
	}
	.legal {
		@apply text-xs;
	}
	.indentAfterLI {
		@apply ml-8;
		&.box {
			margin-left: 3em;
			width: calc(100% - 3em);
		}
	}
	.nav-ModeToggle {
		@apply absolute cursor-pointer top-[0.5em] lg:top-[0.625em] right-[1em] lg:right-[1.5em] bg-transparent border-0;
		svg {
			width: 1.375em;
			@apply h-auto;
			&.sun path, &.moon {
				@apply fill-yellow-200;
			}
		}
	}
	.prevArrow, .nextArrow {
		@apply text-sm leading-[1.375em];
		a {
			@apply text-white no-underline hover:underline focus:underline;
		}
	}
	.prevnextText {
		@apply text-sm lg:text-base leading-[1] lg:leading-6;
		a {
			@apply text-white no-underline hover:underline focus:underline;
		}
	}
	.prevArrow {
		padding-left: var(--arrowPadding);
	}
	.nextArrow {
		padding-right: var(--arrowPadding);
		@apply text-right;
	}
	.nextDiv, .prevDiv {
		line-height: clamp(1em,1vw + .75em,1.25em);
		@apply flex-1;
	}
	.nextDiv {
		@apply text-right py-0 px-[--nextprevPadding];
	}
	.prevDiv {
		@apply text-left py-0 pr-0 pl-[--nextprevPadding];
	}
	.bg-dark {
		path.PrevNext {
			@apply fill-white;
		}
	}
	details.comments {
		@apply mt-[1em];
		> summary {
			@apply list-none my-0 mx-auto;
		}
		> summary::marker,
		> summary::-webkit-details-marker {
			@apply hidden;
		}
	}
	search-button, a.contactButton, details.comments > summary {
		@apply w-[--btn-width] h-[--btn-height] flex flex-row justify-between items-center bg-blue-700 dark:bg-blue-300 hover:bg-blue-900 dark:hover:bg-blue-100 rounded-md font-semibold text-black py-1 px-0 hover:cursor-pointer;
		.svg {
			@apply pl-[--interactionPadding];
			svg {
				@apply fill-white dark:fill-black w-[--btn-svg-width] h-auto;
			}
		}
		.legend {
			@apply text-white dark:text-black pr-[--interactionPadding] text-right;
		}
	}
}
