{
	"config": {
		"myIP": "192.168.0.70"
	},
	"watch": {
		"buildCSS:all": {
			"patterns": [
				"themes/lcss/assets/css-original"
			],
			"extensions": "css,scss",
			"quiet": true,
			"runOnChangeOnly": false
		}
	},
	"scripts": {
		"buildCSS:all": "lightningcss --minify --bundle --targets '>= 2%' themes/lcss/assets/css-original/*.css --output-dir themes/lcss/assets/css",
		"clean": "rimraf public",
		"search": "pagefind --site public",
		"dev:search": "pagefind --site public --bundle-dir ../static/_pagefind",
		"dev:hugo": "hugo server --port 3000 --bind=0.0.0.0 --baseURL=http://$npm_package_config_myIP:3000 --panicOnWarning --disableFastRender --forceSyncStatic --gc",
		"move-excerpts": "mv public/posts/index.xml public/index-excerpts.xml",
		"prod:hugo": "hugo --minify",
		"testbuild:hugo": "hugo server --port 3000 --bind=0.0.0.0 --baseURL=http://$npm_package_config_myIP:3000 --panicOnWarning --disableFastRender --forceSyncStatic --gc --minify --environment=production",
		"clean:lcss": "rimraf themes/lcss/assets/css",
		"start": "NODE_ENV=development npm-run-all clean clean:lcss buildCSS:all --parallel dev:hugo watch",
		"build:prelim": "NODE_ENV=production npm-run-all clean clean:lcss buildCSS:all prod:hugo",
		"build": "npm-run-all build:prelim move-excerpts search",
    "deploy:wrangler": "wrangler pages deploy public --commit-dirty=true",
    "deploy": "pnpm run build && pnpm run deploy:wrangler",
		"testbuild": "NODE_ENV=production npm-run-all clean clean:lcss buildCSS:all --parallel testbuild:hugo watch",
		"testbuildpf": "NODE_ENV=production npm-run-all clean clean:lcss buildCSS:all build:prelim dev:search --parallel testbuild:hugo watch",
		"watch": "npm-watch"
	},
	"devDependencies": {
		"lightningcss": "^1.23.0",
		"lightningcss-cli": "^1.23.0",
		"mkdirp": "^3.0.1",
		"npm-run-all": "^4.1.5",
		"npm-watch": "^0.11.0",
		"postcss": "^8.4.33",
		"postcss-cli": "^11.0.0",
		"postcss-lightningcss": "^1.0.0",
		"rimraf": "^5.0.5",
		"wrangler": "^3.26.0"
	}
}
